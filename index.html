<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Didacticiel jQuery</title>
    <script src="http://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="didacticiel.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Dosis:400,700" rel="stylesheet">
    <link rel="stylesheet" href="main.css" type="text/css">
  </head>
  <body>
    <h1>Didacticiel jQuery</h1>
    <h2>Introduction</h2>
    <section>
      <blockquote>
        jQuery est une bibliothèque JavaScript rapide, compacte et riche. Elle réalise des choses comme le parcours et la manipulation de documents HTML, la gestion d'évènements, l'animation ou encore les requêtes <abbr title="Asynchronious JavaScript And XML">AJAX</abbr>, d'une manière très simple et avec une <abbr title="Application Programming Interface">API</abbr> fonctionnant sur une multitude de navigateurs. Avec une combinaison de versatilité et d'extensibilité, jQuery a changé la façon d'écrire du JavaScript pour des millions de personnes.
        <p>
          Page d'accueil jQuery, <a href="https://jquery.com">https://jquery.com</a>
        </p>
      </blockquote>
    </section>
    <h2>Installation</h2>
    <section>
      <p>
        Bien qu'il soit possible d'installer jQuery, ceci n'est pas nécessaire. Nous pouvons pour cela utiliser un <abbr title="Content Delivery Network">CDN</abbr>, c'est-à-dire utiliser un dépôt distant sur lequel jQuery se trouve.
      </p>

      <p>
        Dans le <code>head</code> de votre page HTML, insérez la ligne suivante :
        <pre style='color:#000000;background:#ffffff;'><span style='color:#7f0055; '>&lt;</span><span style='color:#7f0055; font-weight:bold; '>script</span> src=<span style='color:#2a00ff; '>"http://code.jquery.com/jquery-3.0.0.min.js"</span><span style='color:#7f0055; '>></span><span style='color:#7f0055; '>&lt;/</span><span style='color:#7f0055; font-weight:bold; '>script</span><span style='color:#7f0055; '>></span></pre>
        <div class="attention">
          Remplacez <code>3.0.0</code> par la version actuelle de jQuery que vous trouverez sur <a href="http://code.jquery.com">code.jquery.com</a>.
        </div>
      </p>
      <p>
        Toujours dans le <code>head</code>, ajoutez un appel à votre script JS avec :
        <pre style='color:#000000;background:#ffffff;'><span style='color:#7f0055; '>&lt;</span><span style='color:#7f0055; font-weight:bold; '>script</span> src=<span style='color:#2a00ff; '>"un-script.js"</span> defer<span style='color:#7f0055; '>></span><span style='color:#7f0055; '>&lt;/</span><span style='color:#7f0055; font-weight:bold; '>script</span><span style='color:#7f0055; '>></span></pre>
      </p>
      <code>defer</code> signifie que le code sera chargé uniquement lorsque la page actuelle aura terminé de se charger. Si vous omettez cet attribut, votre script sera inutile car il agira sur des éléments qui n'existent pas encore.
      <div class="attention">
        Si vous préférez insérer votre code javascript directement dans le fichier HTML (ce qui n'est pas recommandé), alors <code>defer</code> est inutile, vous devez plutôt placer votre balise <code>script</code> juste avant la fermeture du <code>body</code>.
      </div>
    </section>
    <h2>Premier script</h2>
    <section>
      <h3>Sélecteurs</h3>
      <section>
        <p>
          jQuery, c'est avant tout des sélecteurs. Lorsqu'on désire sélectionner un élément en JavaScript, par exemple par son ID, on utilise
          <pre style='color:#000000;background:#ffffff;'>document.findElementById(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>unId</span><span style='color:#2a00ff; '>'</span>)</pre>
        </p>
        <p>
          jQuery a décidé d'utiliser les mêmes sélecteurs que le CSS. Ainsi, pour obtenir un élément par son ID, on utilise
          <pre style='color:#000000;background:#ffffff;'>$(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>#unId</span><span style='color:#2a00ff; '>'</span>)</pre>
        </p>
        <p>
          Similairement, il est possible de sélectionner tous les éléments d'une classe donnée :
          <pre style='color:#000000;background:#ffffff;'>$(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>.uneClasse</span><span style='color:#2a00ff; '>'</span>)
          </pre>
          ou par exemple tous les titre <code>h2</code> :
          <pre style='color:#000000;background:#ffffff;'>$(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>h2</span><span style='color:#2a00ff; '>'</span>)</pre>
        </p>
        <p>
          Les sélecteurs plus complexes de CSS sont également compris par jQuery. Exemples :
          <pre style='color:#000000;background:#ffffff;'>$(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>div .titre</span><span style='color:#2a00ff; '>'</span>)
$(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>div > p</span><span style='color:#2a00ff; '>'</span>)
$(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>span, code, abbr</span><span style='color:#2a00ff; '>'</span>)
$(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>input:checked</span><span style='color:#2a00ff; '>'</span>)</pre>
        </p>
      </section>
      <h3>Fonctions simples</h3>
        <section>
          Parmi les fonctions les plus simples de jQuery, on trouve notemment <code>text()</code> et <code>html()</code>, qui permettent d'obtenir ou de définir le contenu (soit le contenu brut, soit le contenu HTML). Exemple :
          <pre style='color:#000000;background:#ffffff;'>$(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>#contenu</span><span style='color:#2a00ff; '>'</span>).text(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>Hello, World!</span><span style='color:#2a00ff; '>'</span>);</pre>
          définit que la phrase "Hello, World!" sera insérée dans le conteneur ayant l'ID <code>contenu</code>.
          Pour obtenir la valeur d'un élément, il suffit d'utiliser la fonction sans paramètre :
          <pre style='color:#000000;background:#ffffff;'>console.<span style='color:#7f0055; font-weight:bold; '>log</span>($(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>#zone</span><span style='color:#2a00ff; '>'</span>).html());</pre>
          Ici, tout le contenu HTML de l'élément ayant l'ID <code>zone</code> (texte et sous-éléments) sera affiché dans la console.
        </section>
        <h3>Afficher le code de la page</h3>
        <section>
          <p>
            Le but de l'exercice est de créer un <code>div</code> qui contiendra l'intégralité du code HTML de la page en cours.
          </p>
          <p>
            Indice : pour réaliser cet exercice, l'utilisation de <code>html()</code> est nécessaire afin d'obtenir le code, l'utilisation de <code>text()</code> est également nécessaire afin d'écrire le code sous forme de texte brut.
          </p>
        </section>
        <h3 class="collapsed">Correction</h3>
        <section>
          <p>
            Dans le code HTML, il suffit d'ajouter dans le <code>body</code> :
            <pre style='color:#000000;background:#ffffff;'><span style='color:#7f0055; '>&lt;</span><span style='color:#7f0055; font-weight:bold; '>div</span> id=<span style='color:#2a00ff; '>"code"</span><span style='color:#7f0055; '>></span><span style='color:#7f0055; '>&lt;/</span><span style='color:#7f0055; font-weight:bold; '>div</span><span style='color:#7f0055; '>></span></pre>
          </p>
          <p>
            Le fichier JavaScript contiendra quant à lui le code suivant :
            <pre style='color:#000000;background:#ffffff;'>$(<span style='color:#7f0055; font-weight:bold; '>function</span>() {
  $(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>#code</span><span style='color:#2a00ff; '>'</span>).text($(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>html</span><span style='color:#2a00ff; '>'</span>).html());
});</pre>
            ou par étapes détaillées :
            <pre style='color:#000000;background:#ffffff;'><span style='color:#3f7f59; '>// On isole la balise "html"</span>
$(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>html</span><span style='color:#2a00ff; '>'</span>);
<span style='color:#3f7f59; '>// On extrait son code</span>
$(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>html</span><span style='color:#2a00ff; '>'</span>).html();

<span style='color:#3f7f59; '>// On isole l'élément ayant l'ID "code"</span>
$(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>#code</span><span style='color:#2a00ff; '>'</span>)
<span style='color:#3f7f59; '>// On insère le code trouvé plus tôt dans son texte</span>
$(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>#code</span><span style='color:#2a00ff; '>'</span>).text($(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>html</span><span style='color:#2a00ff; '>'</span>).html());

<span style='color:#3f7f59; '>// le tout dans la fonction lancée lorsque le DOM est prêt</span>
$(<span style='color:#7f0055; font-weight:bold; '>function</span>() {
  $(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>#code</span><span style='color:#2a00ff; '>'</span>).text($(<span style='color:#2a00ff; '>'</span><span style='color:#2a00ff; '>html</span><span style='color:#2a00ff; '>'</span>).html());
});</pre>
          </p>
        </section>
    </section>
    <h2>Documentation</h2>
    <section>
      <p>
        La <a href="http://api.jquery.com">documentation de jQuery</a> est très bien faite et bien organisée. Cependant, quelques notions sont nécessaires pour une compréhension approfondie des différentes pages.
      </p>
      <h3>jQuery et $</h3>
      <section>
        <p>
          Dans la documentation, il n'est nulle part fait mention de la fonction magique de jQuery : <code>$</code>. En effet, cette fonction est un alias de la fonction <code>jQuery</code>. Ainsi, dans la doc, cette fonction est notée tantôt d'une manière, tantôt de l'autre.
        </p>
      </section>
      <h3>jQuery.xyz() et .xyz()</h3>
      <section>
        <p>
          Il existe deux sortes de fonctions présentées dans la documentation : celles qui commencent par <code>jQuery</code> et celles qui commencent par un point.
        </p>
        <p>
          Les premières sont des fonctions globales qui sont utilisables tout le temps de la même manière. Par exemple, <code>jQuery.trim()</code> enlève les espaces au début et à la fin de n'importe quelle chaine de caractères. Bien évidemment, il est également possible de l'utiliser avec <code>$.trim()</code>.
        </p>
        <p>
          Les fonctions débutant par un point sont en fait des méthodes d'éléments. Elles peuvent s'appliquer à un élément isolé grâce à un sélecteur ou à chaque éléments lorsque le sélecteur correspond à plus d'un élément du DOM. Par exemple, la fonction <code>.click()</code> permet de définir une action liée à un bouton. En utilisant <code>$('button').click()</code>, l'action portera sur tous les boutons du DOM.
        </p>
      </section>
    </section>
    <h2>Ça clique de partout</h2>
    <section>
      <p>
        L'une des grandes utilisations de jQuery est la détection de clicks. Cette détection peut se faire sur n'importe quel élément du DOM, que ce soit un <code>button</code>, un <code>div</code>, un <code>input</code> ou même le <code>body</code>. La simple utilisation de la fonction <code>.click()</code> permet de définir l'action liée à cet évènement.
        <pre>$('#bouton1').click(function() {
  alert('Vous avez cliqué sur le bouton 1 !');
});</pre>
        Et c'est tout ! Avouez que jQuery simplifie réellement la vie, non ?
      </p>
    </section>
    <h3>Simuler un clic</h3>
    <section>
      <p>
        Afin de simuler un clic de l'utilisateur, l'appel à la fonction <code>click()</code> sans paramètres suffit. Ainsi, la ligne suivante réalisera un clic sur le bouton 2 :
        <pre>$('#bouton2').click();</pre>
      </p>
    </section>
    <h3>Autres évènements</h3>
    <section>
      <p>
        Il existe bien évidemment d'autres évènements que le clic. Tous fonctionnent de la même manière (définition et exécution). Écrire leur liste exhaustive ici n'est pas des plus utiles ou des plus intéressants, mais mettons toutefois l'accent sur quelques uns que voici :
        <table>
          <thead>
            <tr>
              <th>
                Évènement
              </th>
              <th>
                Description
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <code>.focus()</code>
              </td>
              <td>
                Positionnement du curseur sur un champ (<code>input</code> ou <code>textarea</code>)
              </td>
            </tr>
            <tr>
              <td>
                <code>.blur()</code>
              </td>
              <td>
                Pendant du précédent : perte du focus sur un champs
              </td>
            </tr>
            <tr>
              <td>
                <code>.hover()</code>
              </td>
              <td>
                Survol de l'élémen par la souris
              </td>
            </tr>
            <tr>
              <td>
                <code>.keypress()</code>
              </td>
              <td>
                Appui sur une touche du clavier (aussi <code>.keydown()</code> et <code>.keyUp()</code>)
              </td>
            </tr>
          </tbody>
        </table>
        Tous les évènements sont décrits sur <a href="http://api.jquery.com/category/events">api.jquery.com/category/events</a>.
      </p>
    </section>
  </body>
</html>
